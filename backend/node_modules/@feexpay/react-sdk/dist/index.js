var e=require("react/jsx-runtime"),n=require("react"),t=require("styled-components"),a=require("axios");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i,o=/*#__PURE__*/r(n),l=/*#__PURE__*/r(t),s=/*#__PURE__*/r(a);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},c.apply(this,arguments)}function d(e,n){return n||(n=e.slice(0)),e.raw=n,e}var u=t.createGlobalStyle(i||(i=d(["\n      .button {\n        background-color:#112C56;\n        color:white;\n        text-align:center;\n        padding:10px;\n        border:none;\n        width:100%;\n        justify-content:center;\n        align-items:center;\n        flex-direction:row;\n        border-radius:0.5rem;\n        cursor:pointer;\n\n      }\n      .button_text{\n         font-size:1rem;\n         font-weight:800;\n      }\n      img{\n        width:100px;\n      }\n      .choice_text {\n        font-size:0.8rem;\n      }\n"])));function m(e,n){try{switch(n.type){case"CHANGE/OPERATOR":case"CHANGE/EMAIL":case"CHANGE/FULLNAME":case"CHANGE/NAME_CARD":return c({},e,n.payload);case"CHANGE/COUNTRY_CODE":return c({},e,{country_code:n.payload.country_code});case"CHANGE/OPERATOR_NAME":return c({},e,{operator_name:n.payload.operator_name});case"CHANGE/NUMERO_CLIENT":return c({},e,{num_client_without_code:n.payload.num_client,num_client:""+e.country_code+n.payload.num_client});case"CHANGE/CODE_OTP":return c({},e,{code_otp:n.payload.code_otp});case"CHANGE/NUMWITHOUTCODE":return c({},e,{num_client_without_code:n.payload.num_client_without_code});case"CHANGE/REQUESTMESSAGE":return c({},e,{paiement_request_verify_msg:n.payload.paiement_request_verify_msg,stopchargement:n.payload.stopchargement});case"CHANGE/REQUESTTOPAYINFO":return e;default:throw new Error("Message")}}catch(n){return console.error("Une erreur est survenue dans le reducer :",n),e}}var p,f,_,h,x,g,y,b,v,j={},N=function(n){var t,a,r,i,l,s,c=n.children,d=n.amount,u=n.apiURL,p=n.token,f=n.id,_=n.reference,h=n.callback,x=n.description,g=n.callback_info,y=n.callback_url,b=n.fieldsToHide,v=n.buttonText,N=n.buttonStyles,k=n.defaultValueField,S=localStorage.getItem("userInfo__");S=JSON.parse(S),console.log("userInfoLocal == ",S),j={price:d,apiURL:u,token:p,id:f,operator_name:"",custom_id:_||"",code_otp:"",callback_info:g,description:x,country_code:"",num_client:"",num_client_without_code:"",paiement_request_verify_msg:"En attente de paiement.",stopchargement:!1,requesttopayinfo:{},name_marchand:"",reference_marchand:"",email:(null==(t=S)?void 0:t.email)||"",full_name:(null==(a=S)?void 0:a.name)||"",callback:h,callback_url:y,numero_card:(null==(r=S)?void 0:r.phone)||"",name_card:(null==(i=S)?void 0:i.name)||"",email_card:(null==(l=S)?void 0:l.email)||"",title_card:"",address_card:"",locality_card:"",last_name_card:(null==(s=S)?void 0:s.lastName)||"",fieldsToHide:b,buttonText:v,buttonStyles:N,defaultValueField:k};var E=o.default.useReducer(m,j),w=E[0],A=E[1],F=o.default.useMemo(function(){return{state:w,dispatch:A}},[w,A]);return e.jsx(C.Provider,{value:F,children:c})},C=o.default.createContext({state:j,dispatch:function(){}}),k=function(){return o.default.useContext(C)},S=function(n){var t=n.open_modal,a=n.feexVisisbleBtn,r=n.buttonText,i=n.buttonStyles,o=n.buttonClass;return k(),e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsx("button",{onClick:function(){return t()},className:""+(o||"button"),style:c({display:a?"flex":"none"},i),children:e.jsx("span",{className:"button_text",style:{marginRight:"5px"},children:r})})]})},E=t.createGlobalStyle(p||(p=d(['\n.ModeTestMsg {\n    padding: 6px;\n    background: #112b56;\n    text-align: center;\n    margin-bottom: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.ModeTestMsg p {\n    font-size: 14px;\n    text-align: center;\n    color: white\n}\n.feexpay_close_btn{\n    background-color: crimson;\n    border-radius: 5rem;\n    transform: translateX(100%) translateY(-100%);\n    cursor: pointer;\n    height:30px;\n    width: 30px;\n    background-image: url("https://api.feexpay.me/api/static/cross-23.png");\n    background-size: cover;\n    background-position: center;\n    float: right;\n   \n  \n  }\n\n  .width-100 {\n    width: 100% !important;\n}\n    .modal_container{\n        position:fixed;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        background-color:rgba(0, 0, 0, 0.7);\n        height:100vh;\n        width:100vw;  \n        z-index:100000000 !important;\n        margin:0px;\n        padding:0px;\n        flex-direction:column;\n        top:0px;\n        left:0px;\n        \n    }\n\n    .modal{\n       display:grid;\n       flex-direction:column;\n       width:40%;\n       height:92%;\n       background-color: #f8f9fa !important;\n       color:black;\n\n      \n    }\n\n    .modal .modal_header{\n        display:flex;\n        flex-direction:row;\n        width:100%;\n        margin-bottom:2rem;\n        box-shadow: 2px 3px 9px -4px rgba(0, 0, 0, 0.397);\n        border-bottom-left-radius:1rem;\n        border-bottom-right-radius:1rem;\n        height: fit-content;\n    }\n\n    .modal .header_text{\n        font-size:0.7rem;\n        color:black;\n        width:60%;\n        text-align:right;\n        padding-right: 1rem;\n        padding-top: 0.5rem;\n        height:fit-content;\n\n        \n        \n        \n    }\n    .modal .logo_container{\n        width:40%;\n        padding-top: 0.5rem;\n        padding-left:1rem;\n        height:fit-content;\n    }\n    .modal .logo_container .logo {\n        width:100px;\n\n    }\n    .pay_with{\n        font-size:1rem;\n        font-weight:800;\n        color:darkblue;\n    }\n\n    .footer_modal_container{\n        width:100%;\n        height:6%;\n        background-color:white;\n        align-self:flex-end;\n        display:flex;\n        align-items:flex-end;\n        justify-self:flex-end;\n      \n    }\n\n    .footer_modal{\n        width: 100%;\n        height: 30px;\n        background-color: #112C56;\n        background-image: url("https://api.feexpay.me/api/static/motif_footer.svg");\n        background-size: cover;\n        background-position: center;\n        \n\n    }\n\n    .secure_by_feexpay{\n        display:flex;\n        flex-direction:row;\n        align-items:center;\n        justify-content:center;\n      }\n      .img_lock{\n        width:15px;\n        margin-right:0.2rem;\n\n      }\n    \n      .lock_line{\n        background-color:#112C56;\n        width:6px;\n        height:1px;\n      }\n      .lock_text{\n        font-size:0.7rem;\n      }\n\n      @media (min-width: 320px) {\n        body {\n            color: #626262;\n        }\n    }\n\n\n    \n    \n    @media (min-width: 992px) {\n        \n    }\n\n    @media (min-width: 1200px) {\n        \n    }\n\n    @media (min-width: 650px) and (max-width: 850px) {\n        \n        .modal{\n            width:75%;\n            height:100%;\n         }\n\n         .feexpaycardBankForm .titulaire_input {\n            width: auto !important;\n        }\n    }\n\n    @media (max-width: 768px) {\n        \n    }\n\n    @media (min-width: 950px) and (max-width:1025px) {\n        .modal{\n            width:65%;\n            height:100%;\n        }\n    }\n\n    @media (min-width: 651px) and (max-width:900px) {\n        .modal{\n            width:80%;\n            height:100%;\n        }\n        .footer_modal_container{\n            width:100%;\n        }\n    }\n\n    @media (max-width:700px) {\n        .modal_container{\n            /*height:100vh;*/\n            /*width:200vw;*/ \n        }\n\n        .modal{\n            width:100%;\n            height:100%;\n        }\n\n        .choice_operator_img{\n            flex-direction:column;\n        }\n        \n    }\n\n    \n']))),w=l.default.div(f||(f=d(["\n     transition:all 1s;\n     border:solid 1.5px gray;\n     display:flex;\n     flex-direction:row;\n     align-items:center;\n     width:100%;\n     margin-top:1rem;\n     transform-origin: center;\n     cursor:pointer;\n     \n     :hover{\n       transition:all 1s;\n       border:solid 1.5px orangered;\n     }\n\n     \n     .image_choice{\n        display:flex;\n        flex-direction:row;\n        justify-content:end;\n        align-items:center;\n        position:relatif;\n        right:1rem;\n        justify-self:flex-end;\n        padding-top:8px;\n        padding-bottom:8px;\n        width:50%;\n       \n     }\n     .image_choice img{\n      width:40px;\n     }\n     .input_choice,.choice_text{\n        margin-left:0.5rem;\n     }\n     .img_moov{\n        margin-right:2rem;\n     }\n     .img_mtn{\n       margin-right:1rem\n     }\n     .text_container{\n        width:70%;\n        display:flex;\n        align-items:center;\n        flex-direction:row;\n\n     }\n\n \n   \n\n"]))),A=function(n){var t=n.choice_local_func;return e.jsx(w,{children:e.jsxs("div",{className:"text_container",onClick:function(){return t()},style:{height:"45px"},children:[e.jsx("input",{onClick:function(){return t()},className:"input_choice",type:"radio",name:"isClicked",id:""}),e.jsx("div",{onClick:function(){return t()},className:"choice_text",children:"Mobile Money"})]})})},F="https://api.feexpay.me/api/static/Flag_of_Togo.svg.png",T="https://api.feexpay.me/api/static/Flag_of_Benin.svg.png",G="https://api.feexpay.me/api/static/Flag_of_Rwanda.svg.png",M="https://api.feexpay.me/api/static/CI.png",O="https://api.feexpay.me/api",I=function(n){var t=n.choice_cardBank_func;return e.jsxs(w,{children:[e.jsxs("div",{className:"text_container",onClick:function(){return t()},children:[e.jsx("input",{onClick:function(){return t()},className:"input_choice",type:"radio",name:"isClicked",id:""}),e.jsx("div",{onClick:function(){return t()},className:"choice_text",children:"Cartes bancaires"})]}),e.jsxs("div",{className:"image_choice",onClick:function(){return t()},children:[e.jsx("img",{className:"img_mtn",src:"https://api.feexpay.me/api/static/logo_visa.svg",alt:""}),e.jsx("img",{className:"img_moov",src:"https://api.feexpay.me/api/static/logo_mastercard.svg",alt:""})]})]})},R=t.createGlobalStyle(_||(_=d(["\n//Modal notify\n.ModalInfos {\n   width: 100vw;\n   height: 100vh;\n   position: fixed;\n   top: 0;\n   left: 0;\n   background-color: #00000075;\n   display: flex;\n   align-items: center;\n   justify-content: center;\n }\n \n .ModalInfos__center {\n   width: 400px;\n   background-color: #112C56;\n   display: flex;\n   align-items: center;\n   flex-direction: column;\n   padding: 20px 30px;\n   border-radius: 5px;\n }\n\n .ModalInfos__btn {\n   padding: 6px 15px;\n   font-size: 14px;\n   background: #d56209;\n   color: white;\n   border-radius: 4px;\n   margin-top: 15px;\n }\n\n .ModalInfos__text {\n   font-size: 14px;\n   color: white;\n   text-align: center;\n   line-height: 25px;\n }\n\n \n    .choice_operator_card{\n        width:100%;\n        border-bottom:solid 1.9px black;\n        display:flex;\n        flex-direction:row;\n        align-items:center;\n        justify-content:center;\n    }\n\n    .choice_operator_text{\n         width:auto;\n         font-weight:500;\n         font-size: 16px;\n         margin-bottom: 15px;\n    }\n    .choice_operator_img{\n        display:flex;\n        width:40%;\n        justify-content:flex-end;\n        align-items:center;\n        flex-direction:row;\n\n    }\n    .choice_operator_img input{\n        margin-right:0.3rem;\n    }\n    .choice_operator_img img{\n        width:45px;\n        padding-top:8px;\n        padding-bottom:8px;\n        \n    }\n\n\n    .choice_mtn{\n        display:flex;\n        align-items:center;\n        justify-content:center;\n        flex-direction:row;\n  \n  \n     }\n     .choice_moov{\n        display:flex;\n        align-items:center;\n        justify-content:center;\n        flex-direction:row;\n     }\n    \n\n\n    .img_mtn{\n        margin-right:1rem;\n    }\n\n.error_text_operator{\n    font-size:0.6rem;\n    color:crimson;\n    margin-top:0.5rem;\n}\n    @media screen and (max-width:960px){\n      \n        .img_mtn{\n            margin-right:0px;\n        }\n        .choice_operator_img{\n           display:flex; \n           align-items:center;\n           justify-content:flex-end;  \n           /*flex-direction:column;*/\n        }\n        .choice_mtn{\n           display:flex;\n     \n        }\n        .choice_moov{\n            display:flex;\n        }\n        .img_mtn{\n           margin-right:0px;\n        }\n     \n     \n     }\n"]))),B=t.createGlobalStyle(h||(h=d([" \n    .margin{\n        margin-top:1rem;\n        margin-bottom:1rem;\n    }\n\n    .feexpay_input_simple{\n        border: 1px solid #ced4da;\n        border-radius: 5px;\n        outline:none;\n        /*border-bottom: solid 1.5px #00000071;*/\n        padding-bottom:10px;\n        padding-top:10px;\n        padding-left:10px;\n        width: -webkit-fill-available;\n        margin-bottom: 1.5rem;\n        margin-top: 5px;\n        background-color: transparent;\n    }\n    \n    \n    .num_operator_card{\n        width:100%;\n        display:flex;\n        flex-direction:column;\n\n    }\n    .num_input_container{\n        width:100%;\n        display:flex;\n        flex-direction:row;\n        align-items:center;\n        border: 1px solid #ced4da;\n        border-radius: 5px;\n        /*border-bottom:solid 2px black;*/\n    }\n    .flag{\n        width:10%;\n        text-align: center !important;\n    }\n    .input_num{\n        border:none !important;\n        outline:none !important;\n        background-color: transparent;\n        padding:10px !important;\n        width: -webkit-fill-available;\n    }\n    .flag .img_flag{\n        width:25px !important;\n        text-align: center;\n    }\n\n    .num_flag_container{\n        width:30%;\n        padding:0px;\n        background-color:white;\n        box-shadow:1px 1px 20px 0.2px lightgrey;\n        display:flex;\n        flex-direction:column;\n        transform:translateY(40%);\n        position:absolute;\n        \n    }\n    .flag_info_container{\n        transition:all 1s;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        padding:3px;\n        padding-left:0px;\n        cursor:pointer;\n\n    }\n    .flag_info_container:hover{\n        transition:all 1s;\n        background-color:whitesmoke;\n\n    }\n\n    .flag_container img{\n        width:25px;\n    }\n    .flag_conyainer{\n        width:10%;\n        padding-top:5px;\n    }\n    .flag_name{\n        width:90%;\n        text-align:right;\n        padding-right:1rem;\n        font-size:0.8rem;\n    }\n    .error_text_operator_input{\n        font-size:0.6rem;\n        color:crimson;\n        margin-top:0.5rem;\n    }\n    \n    .custom-select {\n      display: inline-block;\n      width: 100%;\n      height: calc(1.5em + 0.75rem + 2px);\n      padding: 0.375rem 1.75rem 0.375rem 0.75rem;\n      font-size: 1rem;\n      font-weight: 400;\n      line-height: 1.5;\n      color: #495057;\n      vertical-align: middle;\n      background: #fff url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e\") right 0.75rem center/8px 10px no-repeat;\n      border: 1px solid #ced4da;\n      border-radius: 0.25rem;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      appearance: none;\n    }\n    \n    .custom-select:focus {\n      border-color: #80bdff;\n      outline: 0;\n      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n    }\n    \n    .custom-select:focus::-ms-value {\n      color: #495057;\n      background-color: #fff;\n    }\n    \n    .custom-select[multiple], .custom-select[size]:not([size=\"1\"]) {\n      height: auto;\n      padding-right: 0.75rem;\n      background-image: none;\n    }\n    \n    .custom-select:disabled {\n      color: #6c757d;\n      background-color: #e9ecef;\n    }\n    \n    .custom-select::-ms-expand {\n      display: none;\n    }\n    \n    .custom-select:-moz-focusring {\n      color: transparent;\n      text-shadow: 0 0 0 #495057;\n    }\n    \n    .custom-select-sm {\n      height: calc(1.5em + 0.5rem + 2px);\n      padding-top: 0.25rem;\n      padding-bottom: 0.25rem;\n      padding-left: 0.5rem;\n      font-size: 0.875rem;\n    }\n    \n    .custom-select-lg {\n      height: calc(1.5em + 1rem + 2px);\n      padding-top: 0.5rem;\n      padding-bottom: 0.5rem;\n      padding-left: 1rem;\n      font-size: 1.25rem;\n    }\n    \n    @media screen and (max-width:700px) {\n         .num_flag_container{\n             width:85%;\n        }\n\n    }\n"]))),P=function(n){var t,a,r,i,l,s=n.send_pay_form,c=n.setnum_exist_false,d=n.setnum_exist_true,u=k(),m=u.state,p=u.dispatch,f=o.default.useState(!1),_=f[0],h=f[1],x=o.default.useState(1),g=x[0],y=x[1];o.default.useState(null);var b=o.default.useState(!1),v=b[0],j=b[1],N=o.default.useState(""),C=N[0],S=N[1];o.default.useState("");var E=o.default.useState(""),w=E[0],A=E[1],O=o.default.useState("")[1],I=o.default.useState(""),R=I[0],P=I[1],U=o.default.useState(""),V=U[0],z=U[1];o.default.useState("");var L=o.default.useState(""),D=L[0],H=L[1],q=o.default.useState(""),Q=q[0],Y=q[1];o.default.useState(""),o.default.useState("229");var J=o.default.useState(""),X=J[0],W=J[1],K=o.default.useState(!1),Z=K[0],$=K[1],ee=o.default.useState(""),ne=ee[0],te=ee[1],ae=o.default.useState(""),re=ae[0],ie=ae[1],oe=[{code:"229",name:"Bénin",country_code:"BJ"},{code:"226",name:"Burkina-Faso",country_code:"BF"},{code:"225",name:"Côte d'Ivoire",country_code:"CI"},{code:"242",name:"Congo Brazzaville",country_code:"CG"},{code:"221",name:"Sénégal",country_code:"SN"},{code:"228",name:"Togo",country_code:"TG"}],le={229:[{value:"MOOV",label:"MOOV"},{value:"MTN",label:"MTN"},{value:"CELTIIS BJ",label:"CELTIIS"}],226:[{value:"MOOV BF",label:"MOOV"},{value:"ORANGE BF",label:"ORANGE"}],225:[{value:"MOOV CI",label:"MOOV"},{value:"MTN CI",label:"MTN"},{value:"WAVE CI",label:"WAVE"},{value:"ORANGE CI",label:"ORANGE"}],228:[{value:"MOOV TG",label:"MOOV"},{value:"TOGOCOM TG",label:"TOGOCOM"}],221:[{value:"ORANGE SN",label:"ORANGE"},{value:"FREE SN",label:"FREE"}],242:[{value:"MTN CG",label:"MTN CG"}]},se=function(e){return(m.fieldsToHide||[]).includes(e)};return o.default.useEffect(function(){if(m.defaultValueField&&m.defaultValueField.country_iban){var e,n=m.defaultValueField.country_iban,t=m.defaultValueField.name,a=m.defaultValueField.email,r=m.defaultValueField.network?m.defaultValueField.network.toUpperCase():m.defaultValueField.network;if(p({type:"CHANGE/COUNTRY_CODE",payload:{country_code:e="BJ"===n?229:"BF"===n?226:"CI"===n?225:"SN"===n?221:"CG"===n?242:"TG"===n?228:229}}),te(e),$("ORANGE SN"===r||"ORANGE"===r),le[e]){var i,o=null==(i=le[e].find(function(e){return e.label===m.defaultValueField.network}))?void 0:i.value;ie(o||r),p({type:"CHANGE/OPERATOR_NAME",payload:{operator_name:o}})}else ie(r);p({type:"CHANGE/FULLNAME",payload:{full_name:t}}),z(t),p({type:"CHANGE/EMAIL",payload:{email:a}}),P(a)}console.log(m)},[m.defaultValueField]),o.default.useEffect(function(){W(0===re.length?"Sélectionnez le réseau":""),se("email")&&P("johndoe@gmail.com"),se("full_name")&&z("John"),0===R.length?H("Entrez votre email"):(H(""),p({type:"CHANGE/EMAIL",payload:{email:R}})),0===V.length?Y("Entrez votre nom et prenom"):(Y(""),p({type:"CHANGE/FULLNAME",payload:{full_name:V}})),Number.isNaN(parseInt(w))?(j(!0),S("Entrez votre numéro"),c()):(j(!1),S(""),d())},[s]),e.jsxs(e.Fragment,{children:[e.jsx(B,{}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"countrySelect",style:{marginBottom:"1rem"},children:"Sélectionnez un pays :"}),null!=(t=m.defaultValueField)&&t.country_iban?e.jsx("div",{className:"",style:{marginTop:"1rem",width:"-webkit-fill-available",height:"auto",display:"flex",alignItems:"center",border:"1px solid #ccc",padding:"0.5rem",borderRadius:"4px"},children:e.jsx("span",{style:{marginLeft:"0.5rem"},children:null==(a=oe.find(function(e){return e.country_code===m.defaultValueField.country_iban}))?void 0:a.name})}):e.jsxs("select",{className:"custom-select",id:"countrySelect",value:ne,style:{marginTop:"1rem"},onChange:function(e){te(e.target.value),ie(""),p({type:"CHANGE/COUNTRY_CODE",payload:{country_code:e.target.value}})},children:[e.jsx("option",{value:"",children:"Choisissez un pays"}),oe.map(function(n){return e.jsx("option",{value:n.code,children:n.name},n.code)})]})]}),ne&&le[ne]&&e.jsxs("div",{className:"margin",children:[e.jsx("label",{htmlFor:"networkSelect",style:{marginTop:"1rem",marginBottom:"1.2rem"},children:"Choisissez un réseau :"}),null!=(r=m.defaultValueField)&&r.network?e.jsx("div",{className:"",style:{marginTop:"1rem",width:"-webkit-fill-available",height:"auto",display:"flex",alignItems:"center",border:"1px solid #ccc",padding:"0.5rem",borderRadius:"4px"},children:e.jsx("span",{style:{marginLeft:"0.5rem"},children:m.defaultValueField.network})}):e.jsxs("div",{children:[e.jsxs("select",{className:"custom-select",id:"networkSelect",value:re,style:{marginTop:"1rem"},onChange:function(e){ie(e.target.value),p({type:"CHANGE/OPERATOR_NAME",payload:{operator_name:e.target.value}}),$("ORANGE SN"===e.target.value)},children:[e.jsx("option",{value:"",children:"Sélectionnez le réseau mobile"}),le[ne].map(function(n){return e.jsx("option",{value:n.value,children:n.label},n.value)})]}),e.jsx("div",{className:"feepay_fullname_error error_text_operator_input",style:{display:"block",marginBottom:"1.5rem"},children:X})]})]}),e.jsxs("div",{children:[!se("full_name")&&e.jsx("div",{className:"margin",style:{display:"block",marginBottom:"1.5rem"},children:e.jsxs("div",{children:[e.jsx("label",{children:"Nom et prénoms"}),null!=(i=m.defaultValueField)&&i.name?e.jsx("div",{className:"",style:{marginTop:"1rem",width:"-webkit-fill-available",height:"auto",display:"flex",alignItems:"center",border:"1px solid #ccc",padding:"0.5rem",borderRadius:"4px"},children:e.jsx("span",{style:{marginLeft:"0.5rem"},children:m.defaultValueField.name})}):e.jsxs("div",{children:[e.jsx("input",{autoComplete:"off",className:"feexpay_fullname_input feexpay_input_simple feexpay_input_fullname input_simple",type:"text",style:{marginBottom:"0px",marginTop:"0.25rem"},onChange:function(e){z(e.target.value),function(e){0!==e.target.value.length&&p({type:"CHANGE/FULLNAME",payload:{full_name:e.target.value}})}(e)},placeholder:"John Don"}),e.jsx("div",{className:"feepay_fullname_error error_text_operator_input",children:Q})]})]})}),!se("email")&&e.jsx("div",{style:{display:"block",marginBottom:"1.5rem"},children:e.jsxs("div",{children:[e.jsx("label",{children:"Adresse mail"}),null!=(l=m.defaultValueField)&&l.email?e.jsx("div",{className:"custom-select",style:{marginTop:"1rem",width:"-webkit-fill-available",height:"auto",display:"flex",alignItems:"center",border:"1px solid #ccc",padding:"0.5rem",borderRadius:"4px"},children:e.jsx("span",{style:{marginLeft:"0.5rem"},children:m.defaultValueField.email})}):e.jsxs("div",{children:[e.jsx("input",{autoComplete:"off",className:"feexpay_email_input feexpay_input_simple feexpay_input_email input_simple",type:"email",style:{marginBottom:"0px",marginTop:"0.25rem"},placeholder:"example@gmail.com",onChange:function(e){P(e.target.value),function(e){0!==e.target.value.length&&p({type:"CHANGE/EMAIL",payload:{email:e.target.value}})}(e)}}),e.jsx("div",{className:"feepay_email_error error_text_operator_input",children:D})]})]})}),e.jsx("label",{htmlFor:"input_num",children:"Numéro de téléphone(sans indicatif)"}),e.jsxs("div",{className:"num_operator_card",children:[e.jsx("div",{className:"num_input_container",children:e.jsx("input",{autoComplete:"off",className:"input_num",style:{marginTop:"0.25rem"},type:"tel",name:"input_num",onChange:function(e){A(e.target.value),function(e){Number.isNaN(parseInt(e.target.value))||p({type:"CHANGE/NUMERO_CLIENT",payload:{num_client:e.target.value}})}(e)},placeholder:function(){switch(g){case 1:return{flagLink:T,placeholder:"0195020304"};case 2:return{flagLink:F,placeholder:"05340312"};case 3:return{flagLink:M,placeholder:"01204502"};case 4:return{flagLink:G,placeholder:"04022304"};default:return null}}().placeholder})}),e.jsxs("div",{className:"num_flag_container",style:{display:_?"flex":"none"},children:[e.jsxs("div",{onClick:function(){y(1),h(!1)},className:"flag_info_container",children:[e.jsx("div",{className:"flag_container",children:e.jsx("img",{src:T,alt:""})}),e.jsx("div",{className:"flag_name",children:"Bénin"})]}),e.jsxs("div",{onClick:function(){y(2),h(!1)},className:"flag_info_container",children:[e.jsx("div",{className:"flag_container",children:e.jsx("img",{src:F,alt:""})}),e.jsx("div",{className:"flag_name",children:"Togo"})]}),e.jsxs("div",{onClick:function(){y(3),h(!1)},className:"flag_info_container",children:[e.jsx("div",{className:"flag_container",children:e.jsx("img",{src:M,alt:""})}),e.jsx("div",{className:"flag_name",children:"Côte d'Ivoire"})]}),e.jsxs("div",{onClick:function(){y(4),h(!1)},className:"flag_info_container",children:[e.jsx("div",{className:"flag_container",children:e.jsx("img",{src:G,alt:""})}),e.jsx("div",{className:"flag_name",children:"Rwanda"})]})]})]}),e.jsx("div",{className:"error_text_operator_input",style:{display:v?"block":"none"},children:C}),Z&&e.jsxs("div",{className:"num_operator_card",children:[e.jsx("label",{style:{marginTop:"1.2rem",marginBottom:"1rem"},htmlFor:"input_num",children:"Code OTP* (Obtenez ce code en tapant *144*391#) :"}),e.jsx("div",{className:"num_input_container",children:e.jsx("input",{type:"number",id:"otp_input",name:"input_num",className:"input_num",onChange:function(e){O(e.target.value),function(e){Number.isNaN(parseInt(e.target.value))||p({type:"CHANGE/CODE_OTP",payload:{code_otp:e.target.value}})}(e)}})})]})]})]})},U=t.createGlobalStyle(x||(x=d(["\n      .button_container{\n        width:100%;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        flex-direction:column;\n      }\n      .button_pay{\n          background-color:#112C56;\n          color:white;\n          text-align:center;\n          padding:10px;\n          border:none;\n          display:flex;\n          justify-content:center;\n          align-items:center;\n          flex-direction:row;\n          cursor:pointer;\n          border-radius:10px;\n          margin-top: 0.5rem;\n          width: fit-content;\n      }\n      .button_text{\n        font-size:0.8rem;\n        font-weight:500;\n      }\n\n      .button_back{\n        background-color: #f8f9fa !important;\n        color: #112C56 !important;\n        margin-right: 2px !important;\n        border: 1px solid #112C56 !important;\n    }\n\n      @media screen and (max-width:960px) {\n        .button_pay{\n          width:100%;\n         }\n    }\n"]))),V=function(n){var t=n.pay_func,a=k().state;return e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsx("div",{className:"button_container",children:e.jsx("button",{onClick:function(){return t()},className:"button_pay",children:e.jsxs("span",{className:"button_text",children:["Payer ",a.price," XOF"]})})})]})},z=l.default.div(g||(g=d(["\n     transition:all 1s;\n     border:solid 1.5px gray;\n     display:flex;\n     flex-direction:row;\n     align-items:center;\n     width:100%;\n     margin-top:1rem;\n     transform-origin: center;\n     height:56px;\n\n     :hover{\n        transition:all 1s;\n        border:solid 1.5px orangered;\n     }\n     .input_choice,.choice_text{\n        margin-left:0.5rem;\n     }\n     \n\n"]))),L=function(n){var t=n.onClickCancel;return e.jsxs(z,{children:[e.jsx("input",{onClick:function(){return t()},className:"input_choice",type:"radio",name:"isClicked",id:""}),e.jsx("div",{onClick:function(){return t()},className:"choice_text",children:"Annuler le paiement"})]})},D=function(n){var t=n.pay_func,a=k().state;return e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsx("div",{className:"button_container",children:e.jsx("button",{onClick:function(){return t()},className:"button_pay",children:e.jsxs("span",{className:"button_text",children:["Payer ",a.price," XOF"]})})})]})},H=t.createGlobalStyle(y||(y=d(["\n \n// card step 2\n.CardStep2__field,\n.CardStep2 {\n    display: flex;\n    flex-direction: column;\n}\n.CardStep2 {\n    width: 100%;\n    gap: 13px;\n}\n\n.CardStep2__field {\n    gap: 8px;\n}\n\n.CardStep2__label {\n    font-size: 14px;\n}\n\n.CardStep2_divField {\n    display: flex;\n    gap: 20px;\n    width: 100%;\n}\n\n.CardStep2_divField label {\n    width: 50%;\n}\n\n.CardStep2__input {\n    width: 100%;\n    border-radius: 7px;\n    border: 1px solid rgb(187, 187, 187);\n    background-color: rgb(238, 238, 238);\n    font-size: 14px;\n    outline: none;\n    padding: 10px 0;\n    text-indent: 10px;\n    color: black;\n}\n\n.Pay_btn_flw {\n   padding: 14px 80px;\n   background: #112b56e5;\n   color: white;\n   font-size: 17px;\n   outline: none;\n   border: none;\n   border-radius: 5px;\n   cursor: pointer\n}\n\n.CardStep2__cvn {\n    width: 48%;\n}\n\n.CardStep2__btns{\n    width: 100%;\n    display: flex;\n    justify-content: end;\n    gap: 6px\n}\n\n.CardStep2__btnNext {\n   color: white;\n   background: #112b56e5;\n}\n\n.CardStep2__btnPrev {\n   outline: none;\n   border: 1px solid #112b56e5;\n   border-radius: 5px;\n   background: none;\n   padding: 14px 16px\n   color: #112b56e5;\n   cursor: pointer\n}  \n\n.CardStep2__error {\n   font-size: 13px;\n   color: red;\n}\n\n.feexpaycardBankForm .form_pay{\n   width:100%;\n \n}\n\n\n.feexpaycardBankForm .titulaire_info_container{\n     display:flex;\n     flex-direction:column;\n     margin-top:0.3rem;\n\n}\n\n.feexpaycardBankForm .titulaire_input{\n   display:flex;\n   flex-direction:row;\n   width:100%;\n   /*background-color:#cfcfcf;*/\n   border-radius:0px;\n   justify-content: inherit;\n}\n.feexpaycardBankForm .titulaire_lab{\n   margin-bottom:5px;\n   margin-top:0px;\n   font-size: 0.8rem;\n}\n\n.feexPayMobilePay .choice_operator_card{\n   width:100%;\n   border-bottom:solid 1.5px #00000071;\n   display:flex;\n   flex-direction:row;\n   align-items:center;\n   justify-content:center;\n}\n\n.color_card_type {\n    border: 1px solid #112C56 !important;\n    border-radius: 2px !important;\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n}\n\n.feexPayMobilePay .choice_operator_text{\n    width:60%;\n    display:flex;\n    align-items:center;\n    font-weight:700;\n    font-size:0.8rem;\n}\n\n.feexPayMobilePay .choice_operator_img{\n   display:flex;\n   width:40%;\n   justify-content:flex-end;\n   align-items:center;\n   flex-direction:row;\n\n}\n.feexPayMobilePay .choice_operator_img input{\n   margin-right:0.3rem;\n}\n.feexPayMobilePay .choice_operator_img img{\n   width:45px;\n   padding-top:8px;\n   padding-bottom:8px;\n   \n}\n\n\n\n.feexpaycardBankForm .input_container{\n    width:90%;\n}\n.feexpaycardBankForm .input_info{\n   background-color:#fffcfc;\n    border:none;\n    outline:none;\n    padding:10px;\n    width:100%;\n    border: 1px solid #5a5a5a69;\n    border-radius: 2px;\n\n}\n.feexpaycardBankForm .input_info::placeholder{\n   font-size: 0.7rem;\n}\n\n.feexpaycardBankForm .input_customer{\n   width: 85%;\n}\n.feexpaycardBankForm .input_customer_prenom{\n   float: right;\n}\n.feexpaycardBankForm .input_info:focus{\n  background-color:whitesmoke;\n}\n.feexpaycardBankForm .img_container{\n   display:flex;\n \n}\n.feexpaycardBankForm .img_user{\n     width:25px;\n     margin-right:1rem;\n}\n\n\n.feexpaycardBankForm .other_info_container{\n   display:flex;\n   justify-content:center;\n   align-items:center;\n   flex-direction:row;\n   width:100%;\n   margin-top:0.3rem;\n \n}\n\n.feexpaycardBankForm .expiration_date,.cryptogramme{\n     width:50%;\n     display:flex;\n     flex-direction:column;\n\n}\n\n.feexpaycardBankForm .cryptogramme{\n display:flex;\n justify-content:flex-end;\n \n \n}\n.feexpaycardBankForm .cryptogramme_custom{\n   width:70% !important;\n   align-items:flex-end !important;\n }\n.feexpaycardBankForm .expiration_date_custom{\n   width:30% !important;\n}\n.cryptogramme .titulaire_lab_prenom{\n   padding-left:12%;\n}\n\n.feexpaycardBankForm .date_expiration_input,.feexpaycardBankForm .cryptogramme_input{\n     width:83%;\n     padding:15px;\n     background-color:#cfcfcf;\n     border:none;\n     outline:none;\n     border-radius:0.5rem;\n}\n.feexpaycardBankForm .cryptogramme_custom .input_w{\n     width:87% !important;\n }\n\n\n.feexpaycardBankForm .cryptogramme_input:focus{\n background-color:whitesmoke;\n}\n.feexpaycardBankForm .date_expiration_input:focus{\n background-color:whitesmoke;\n}\n.feexpay_modal_container .padding_add{\n    padding-left: 2rem;\n    padding-right: 2rem;\n    height: 95%;\n    overflow-y: scroll !important;\n    \n}\n.feexpay_container_form{\n   height: 100%;\n   display: grid;\n   flex-direction: column;\n   justify-content: flex-end;\n   align-items: center;\n}\n\n@media screen and (max-width:924px) {\n     .feexpaycardBankForm .expiration_date,.feexpaycardBankForm .cryptogramme{\n         width:100%;\n         padding:0px;\n\n      }\n      .feexpaycardBankForm .titulaire_lab{\n         \n           margin-top:10px;\n       \n      }\n   \n      .cryptogramme .titulaire_lab_prenom{\n         padding: 0%;\n      }\n      .feexpaycardBankForm .input_customer{\n       width: auto;\n     }\n      .feexpaycardBankForm .cryptogramme_custom .input_w{\n       width:100% !important;\n   }\n \n      .feexpaycardBankForm .other_info_container{\n         flex-direction:column;\n\n         \n      }\n      .feexpaycardBankForm .expiration_date_custom{\n       width: 100% !important;\n   }\n      .feexpaycardBankForm .date_expiration_input,.feexpaycardBankForm .cryptogramme_input{\n         width:91%;\n      }\n\n      .feexpaycardBankForm .cryptogramme_custom{\n           width:100% !important;\n           align-items: flex-start !important;\n           \n       }\n       .feexpay_modal_container .padding_add{\n         overflow-y: scroll !important;\n           height:fit-content;\n           \n      }\n   \n\n\n }\n\n   \n    \n"]))),q=function(n){var t=n.step,a=n.mode,r=n.redirectUrlCard,i=n.setreseau_card,s=k(),c=s.state,u=s.dispatch,m=o.default.useState(""),p=m[0],f=m[1];o.default.useState("");var _=o.default.useState(""),h=_[0],x=_[1],g=o.default.useState(""),y=g[0],v=g[1],j=o.default.useState(""),N=j[0],C=j[1],S=o.default.useState(""),E=S[0],w=S[1],A=o.default.useState(""),F=A[0],T=A[1],G=o.default.useState(""),M=G[0],O=G[1],I=o.default.useState(""),R=I[0],B=I[1],P=l.default.div(b||(b=d(["\n    .FormTest {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      gap: 15px;\n      width: 100%;\n      margin-top: 15px;\n    }\n\n  .FormTest__input {\n      width: 100% !important;\n      height: 36px !important;\n      border-radius: 5px !important;\n      font-size: 14px !important;\n      border: 1px solid rgb(187, 187, 187) !important;\n      outline: none !important;\n      text-indent: 5px;\n      margin: 0 !important;\n  }\n\n  .FormTest__btn {\n      padding: 7px 15px;\n      border-radius: 5px;\n      background: #112C56;\n      color: white;\n      font-size: 14px;\n      outline: none;\n  }\n\n  "])));return o.default.useEffect(function(){0===R.trim().length?T("L'email est requis"):(T(""),u({type:"CHANGE/NAME_CARD",payload:{email_card:R}})),0===y.trim().length||Number.isNaN(parseInt(y))?O("Le numéro de téléphone est requis"):(O(""),u({type:"CHANGE/NAME_CARD",payload:{numero_card:y}})),0===p.trim().length?C("Le nom et le prénom sont requis"):(C(""),u({type:"CHANGE/NAME_CARD",payload:{name_card:p}})),0===h.trim().length?w("Le prénom sont requis"):(w(""),u({type:"CHANGE/NAME_CARD",payload:{last_name_card:h}}))},[R,p,h,y,t]),e.jsxs(e.Fragment,{children:[e.jsx(H,{}),e.jsx("div",{className:"feexpaycardBankForm",children:e.jsx("form",{className:"form_pay",children:"SANDBOX"===a?e.jsx(P,{children:e.jsxs("form",{method:"POST",action:"https://checkout.flutterwave.com/v3/hosted/pay",class:"FormTest",children:[e.jsxs("select",{id:"card-type",name:"card-type",onchange:"window.feexpay_select_card()",class:"FormTest__input",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Sélectionnez un type de carte"}),e.jsx("option",{value:"EUR",children:"VISA"}),e.jsx("option",{value:"USD",children:"MASTERCARD"}),e.jsx("option",{value:"EUR,USD,XOF",children:"AMEX"}),e.jsx("option",{value:"EUR,USD,XOF",children:"GOOGLE PAY"}),e.jsx("option",{value:"NGN",children:"NIGERIA BANK"}),e.jsx("option",{value:"NGN",children:"NIGERIA BANK TRANSFER"})]}),e.jsx("input",{type:"hidden",name:"public_key",value:"FLWPUBK_TEST-937b5f106a970775ab5a9108618e5904-X"}),e.jsx("input",{type:"email",class:"CardStep2__input",placeholder:"votre email",name:"customer[email]",required:!0}),e.jsx("input",{type:"test",class:"CardStep2__input",placeholder:"votre nom et prénom",name:"customer[name]",required:!0}),e.jsx("input",{type:"hidden",name:"tx_ref",value:"txref-81123"}),e.jsx("input",{type:"number",class:"CardStep2__input",placeholder:"montant",name:"amount",required:!0}),e.jsx("input",{type:"hidden",name:"meta[source]",value:"docs-html-test"}),e.jsx("input",{type:"hidden",name:"redirect_url",placeholder:"Url de redirection",class:"CardStep2__input",value:r,required:!0}),e.jsx("br",{}),e.jsxs("button",{type:"submit",class:"FormTest__btn",id:"start-payment-button",children:["Payer ",c.price," XOF"]})]})}):function(){if(0===t)return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"CardStep2",children:[e.jsxs("select",{id:"card-type",className:"CardStep2__input",name:"card-type",onChange:function(e){return i(e.target.value)},children:[e.jsx("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Sélectionnez un type de carte"}),e.jsx("option",{value:"VISA",children:"VISA"}),e.jsx("option",{value:"MASTERCARD",children:"MASTERCARD"})]}),e.jsxs("div",{className:"CardStep2_divField",children:[e.jsxs("label",{className:"CardStep2__field",children:[e.jsx("span",{className:"CardStep2__label",children:"Nom"}),e.jsx("input",{className:"CardStep2__input",type:"text",placeholder:"Doe",onChange:function(e){f(e.target.value),function(e){0===e.target.value.length&&u({type:"CHANGE/NAME_CARD",payload:{name_card:""}})}(e)}}),e.jsx("span",{className:"CardStep2__error",children:N})]}),e.jsxs("label",{className:"CardStep2__field",children:[e.jsx("span",{className:"CardStep2__label",children:"Prénoms"}),e.jsx("input",{className:"CardStep2__input",type:"text",placeholder:"John",onChange:function(e){x(e.target.value),function(e){0===e.target.value.length&&u({type:"CHANGE/NAME_CARD",payload:{last_name_card:""}})}(e)}}),e.jsx("span",{className:"CardStep2__error",children:E})]})]}),e.jsxs("label",{className:"CardStep2__field",children:[e.jsx("span",{className:"CardStep2__label",children:"Email"}),e.jsx("input",{className:"CardStep2__input",type:"email",placeholder:"Email",onChange:function(e){B(e.target.value),function(e){0===e.target.value.length&&u({type:"CHANGE/NAME_CARD",payload:{email_card:""}})}(e)}}),e.jsx("span",{className:"CardStep2__error",children:F})]}),e.jsxs("label",{className:"CardStep2__field",children:[e.jsx("span",{className:"CardStep2__label",children:"Numéro de téléphone"}),e.jsx("input",{className:"CardStep2__input",type:"number",placeholder:"Numéro",onChange:function(e){v(e.target.value),function(e){0===e.target.value.length&&u({type:"CHANGE/NAME_CARD",payload:{numero_card:""}})}(e)}}),e.jsx("span",{className:"CardStep2__error",children:M})]})]})})}()})})]})},Q=function(n){var t=n.systemCardPay,a=n.renderComponent,r=n.mode,i=n.redirectUrlCard,l=o.default.useState(""),c=l[0],d=l[1],u=o.default.useState(""),m=u[0],p=u[1],f=o.default.useState(!0),_=f[0],h=f[1],x=o.default.useState(!1),g=x[0],y=x[1],b=o.default.useState(""),v=b[0],j=b[1],N=o.default.useState(!1),C=N[0],S=N[1],E=["Agla","Aibatin","Ahogohoue","Gbedegbe","Missite","Houenoussou","Cadjehoun","Vodje","Fidjrosse","Fiyegnon","Cototier","Ahouanleko","Alobatin","Finagnon","Houeyiho","Saint Jean","Gbegamey","Gbediga","Yenawa","Missogbe","Kouhounou","Midedji","Vedoko","Gbenonkpo","Fifadji","Zogbo","Zogbohohoue","Minonkpo","Mededjro","Tonato","Gbedagba","Houehoun","Sedami","Sedjro","Todote","Yevedo","Dagbegji","Enagnon","Fignon","Sehogan","Ladji","Djidje","Vossa","Dantokpa","Jericho","GBedromede","Ahouansori","Tokpa","Missebo","Gbedokpo","Zongo","Joncquet","Wlacodji","Midombo","Fifatin","Adogleta","Hlakonme","Agbato","DOnatin","Senade","Irede"],w=E[Math.floor(Math.random()*E.length)];o.default.useRef(null),o.default.useRef(null);var A=o.default.useState(0)[0],F=o.default.useState(!0)[0],T=o.default.useState(!1),G=T[0],M=T[1],I=k(),B=I.state,P=I.dispatch;function V(){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=n.length,a=0;a<14;a++)e+=n.charAt(Math.floor(Math.random()*t));return e}return o.default.useEffect(function(){},[B.numero_card,B.reseau_card,c,B.name_card,B.email_card,B.last_name_card,a]),e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{className:"ModalInfos",style:{display:G?"flex":"none"},children:e.jsxs("div",{className:"ModalInfos__center",children:[e.jsxs("p",{className:"ModalInfos__text",style:{paddingBottom:"15px",borderBottom:"1px solid white"},children:["Pour sélectionner d’autres moyens de paiement ",e.jsx("strong",{children:"(cartes et autres)"}),", cliquez sur ",e.jsx("strong",{children:"Changer la méthode de paiement"}),"."]}),e.jsxs("p",{className:"ModalInfos__text",children:["To select other payment methods ",e.jsx("strong",{children:"(cards and others)"}),", click on ",e.jsx("strong",{children:"Change payment method"}),"."]}),e.jsx("button",{className:"ModalInfos__btn",onClick:function(){return M(!1)},children:"Ok"})]})}),_&&e.jsxs("div",{children:[e.jsx("div",{className:"choice_operator_card",children:e.jsx("div",{className:"choice_operator_text",children:"Paiement par cartes bancaires"})}),e.jsx("div",{className:"feexpay_title_error error_text_operator_input",style:{fontSize:"0.6rem",color:"crimson",marginTop:"0.1rem",marginBottom:"18px"},children:m}),e.jsx(q,{step:A,reference:V(),mode:r,redirectUrlCard:i,setreseau_card:d}),"SANDBOX"!==r&&F?C?e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsx("div",{className:"button_container",style:{paddingTop:"2rem"},children:e.jsxs("div",{className:"button_pay",style:{diplay:"flex",alignItems:"center",justifyContent:"center",width:"fit-content"},children:[e.jsx("span",{className:"button_text",children:"En cours"}),e.jsx("img",{src:"https://api.feexpay.me/api/static/spinner.svg",width:30,height:30,alt:""})]})})]}):e.jsx(D,{pay_func:function(){return function(){if(console.log(c),console.log(B.reseau_card),""===c)p("Choisissez votre operateur"),P({type:"CHANGE/NAME_CARD",payload:{reseau_card:""}});else{if(C)return;S(!0),p(""),P({type:"CHANGE/NAME_CARD",payload:{reseau_card:c}}),function(){try{V();var e=function(){if(""!==c){p("");var e=function(){if(""!==B.numero_card&&""!==B.name_card&&""!==B.email_card&&""!==B.last_name_card){var e=function(e,n){try{var a=(localStorage.setItem("userInfo__",JSON.stringify({name:(null==B?void 0:B.name_card)||"",lastName:(null==B?void 0:B.last_name_card)||"",email:(null==B?void 0:B.email_card)||"",phone:(null==B?void 0:B.numero_card)||"",network:c||"",country:(null==B?void 0:B.country)||"",address1:w})),Promise.resolve(s.default.post(O+"/transactions/card/inittransact/integration",{amount:""+B.price,reseau:""+c,token:""+B.token,shop:""+B.id,first_name:""+B.name_card,last_name:""+B.last_name_card,address1:""+w,district:"Cotonou",country:"Benin",phone:""+B.numero_card,email:""+B.email_card,callback_info:""+B.callback_info,description:""+B.description,systemCardPay:t,redirectUrlCard:i}).then(function(e){P({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"En attente de paiement",stopchargement:!0}});var n=e.data.reference;if(j(e.data.url),h(!1),y(!0),500!==e.status){frames&&M(!0);var t=0;try{var a=setInterval(function(){try{return Promise.resolve(s.default.get(O+"/transactions/getrequesttopay/integration/"+n)).then(function(e){var r=e.data.status;console.log(e),"SUCCESSFUL"===r||"FAILED"===r?(t+=1,console.log(r),clearInterval(a),P({type:"CHANGE/REQUESTTOPAYINFO",payload:{transref:n,status:e.data.status}}),P({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Paiement effectué",stopchargement:!0}}),setTimeout(function(){if(B.callback&&"function"==typeof B.callback)B.callback({reference:n,status:"SUCCESSFUL",phoneNumber:B.num_client,full_name:B.full_name,reseau:B.operator_name,callback_info:B.callback_info,description:B.description});else if(void 0!==B.callback_url){var e=new URL(B.callback_url);B.callback_url=e.searchParams&&e.searchParams.toString()?B.callback_url+"&id_transaction="+n:B.callback_url+"?id_transaction="+n,window.location.href=B.callback_url}},3e3)):30==++t&&(clearInterval(a),clearInterval(a))})}catch(e){return Promise.reject(e)}},3e4)}catch(e){console.log("Erreur survenue :\n",e)}}else P({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Une erreur s'est produite. Veuillez recharger la page puis réessayer",stopchargement:!0}})})).then(function(){}))}catch(e){return n()}return a&&a.then?a.then(void 0,n):a}(0,function(){S(!1),alert("Une erreur s'est produite. Veuillez recharger la page puis réessayer..."),P({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Une erreur s'est produite. Veuillez recharger la page puis réessayer",stopchargement:!0}})});if(e&&e.then)return e.then(function(){})}else p("Choisissez votre operateur")}();if(e&&e.then)return e.then(function(){})}}();Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}()}}()}}):""]}),g&&e.jsx("iframe",{src:v,height:"600",width:"100%",style:{border:"none"},name:"demo"})]})},Y=function n(t){var a=t.changeVisibleChargementFunc,r=t.changeVisibleChargementExitFunc,i=t.cancel_modal_func,l=t.mode,c=o.default.useState(!1),d=c[0],u=c[1];o.default.useState(""),o.default.useState(""),o.default.useState("");var m=o.default.useState("")[1];o.default.useState(!1),o.default.useState(!1);var p=o.default.useState(!1),f=p[0],_=p[1],h=o.default.useState("")[0],x=k(),g=x.state,y=x.dispatch;o.default.useState(!1);var b=o.default.useState(!0)[1],v=o.default.useState(!1),j=v[0],N=v[1],C=o.default.useState(!1),S=C[0],E=C[1];o.default.useState(!1),o.default.useState(!0),o.default.useState(!1);var w=o.default.useState("choice_section")[0],F=o.default.useState(!1)[1],T=o.default.useState(!1),G=T[0],M=T[1],B=o.default.useState(""),U=B[0],z=B[1],D=o.default.useState(!1),H=D[0],q=D[1],Y=o.default.useState(!0),J=Y[0],X=Y[1];return o.default.useEffect(function(){console.log(g.num_client.length>8&&g.operator_name.length>0&&g.full_name.length>0&&g.email.length>0&&g.country_code>0&&H),g.num_client.length>4&&g.operator_name.length>0&&g.full_name.length>0&&g.email.length>0&&g.country_code>0&&H&&function(){try{a();var e=g.token;"SANDBOX"===l&&(e="test_Hg7Kjl3ZAM63UuIUpuudD9nKuu3ZAM67Kjl3Uuhn");var n=g.num_client,t=g.num_client_without_code;"CELTIIS BJ"!==g.operator_name||n.startsWith("0")||(t="2290"+(n="0"+n)),localStorage.setItem("userInfo__",JSON.stringify({name:(null==g?void 0:g.full_name)||"",email:(null==g?void 0:g.email)||"",phone:(null==g?void 0:g.numClient)||"",network:(null==g?void 0:g.operator_name)||""})),Promise.resolve(s.default.post(O+"/transactions/requesttopay/integration",{phoneNumber:n,phoneNumberRight:t,amount:""+g.price,reseau:""+g.operator_name,token:e,shop:""+g.id,first_name:""+g.full_name,email:""+g.email,reference:""+g.custom_id,otp:""+g.code_otp,callback_info:""+g.callback_info,description:""+g.description}).then(function(e){var n=0,t="MOOV CI"==g.operator_name||"FREE SN"==g.operator_name||"ORANGE CI"==g.operator_name||"WAVE CI"==g.operator_name||"ORANGE BF"==g.operator_name||"MOOV BF"==g.operator_name?e.data.order_id:e.data.reference;if(500!==e.status){if("SANDBOX"!==l){"MOOV CI"!=g.operator_name&&"FREE SN"!=g.operator_name&&"ORANGE CI"!=g.operator_name&&"WAVE CI"!=g.operator_name&&"ORANGE BF"!=g.operator_name&&"MOOV BF"!=g.operator_name||(r(),z(e.data.payment_url),E(!1),X(!1),M(!0));var a=setInterval(function(){try{return Promise.resolve(s.default.get(O+"/transactions/getrequesttopay/integration/"+t)).then(function(i){var o=i.data.status;"SUCCESSFUL"!==o&&"SUCCESS"!==o&&"Successful"!==o||(n+=1)<2&&(clearInterval(a),y({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Paiement effectué",stopchargement:!0}}),setTimeout(function(){if(g.callback&&"function"==typeof g.callback)g.callback({reference:e.data.reference,status:"SUCCESSFUL",phoneNumber:g.num_client,full_name:g.full_name,reseau:g.operator_name,callback_info:g.callback_info,description:g.description,transaction_id:i.data.transaction_id});else if(void 0!==g.callback_url){var n=new URL(g.callback_url);g.callback_url=n.searchParams&&n.searchParams.toString()?g.callback_url+"&id_transaction="+e.data.reference+"&status=SUCCESSFUL":g.callback_url+"?id_transaction="+e.data.reference+"&status=SUCCESSFUL",window.location.href=g.callback_url}},2e3)),"FAILED"===o&&(clearInterval(a),y({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Veuillez verifier votre numero ou votre solde.",stopchargement:!0}}),setTimeout(function(){if(g.callback&&"function"==typeof g.callback)g.callback({reference:t,status:"FAILED",phoneNumber:g.num_client,full_name:g.full_name,reseau:g.operator_name,callback_info:g.callback_info,description:g.description,transaction_id:i.data.transaction_id});else if(void 0!==g.callback_url){r();var e=new URL(g.callback_url);g.callback_url=e.searchParams&&e.searchParams.toString()?g.callback_url+"&id_transaction="+t+"&status=FAILED":g.callback_url+"?id_transaction="+t+"&status=FAILED",window.location.href=g.callback_url}},5e3))})}catch(e){return Promise.reject(e)}},5e3);setTimeout(function(){try{return Promise.resolve(s.default.get(O+"/transactions/getrequesttopay/integration/"+t)).then(function(e){var n=e.data.status;"FAILED"!==n&&"INPROGRESS"!==n&&"ACCEPTED"!==n&&"INITIATED"!==n&&"PRE_INITIATED"!==n&&"PENDING"!==n&&"IN PENDING STATE"!==n||(y({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Vous n'avez pas accepter la transaction",stopchargement:!0}}),setTimeout(function(){if(g.callback&&"function"==typeof g.callback)g.callback({reference:t,status:"FAILED",phoneNumber:g.num_client,full_name:g.full_name,reseau:g.operator_name,callback_info:g.callback_info,description:g.description,transaction_id:e.data.transaction_id});else if(void 0!==g.callback_url){r();var n=new URL(g.callback_url);g.callback_url=n.searchParams&&n.searchParams.toString()?g.callback_url+"&id_transaction="+t+"&status=FAILED":g.callback_url+"?id_transaction="+t+"&status=FAILED",window.location.href=g.callback_url}},5e3)),clearInterval(a)})}catch(e){return Promise.reject(e)}},18e4)}else if("SUCCESSFUL"===e.data.status){console.log(e),alert("Paiement effectué..."),r();var i=e.data;console.log("datas== ",i),g.callback()&&"function"==typeof g.callback&&(console.log(i),g.callback(i))}}else y({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Une erreur s'est produite. Veuillez recharger la page puis réessayer",stopchargement:!0}})}).catch(function(e){alert("Une erreur s'est produite. Veuillez recharger la page puis réessayer..."),y("Token API invalid"===e.response.data.message?{type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Veuillez contacter l'administrateur du site.",stopchargement:!0}}:{type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"Une erreur s'est produite. Veuillez recharger la page puis réessayer",stopchargement:!0}})})).then(function(){})}catch(e){return Promise.reject(e)}}()},[g.num_client,g.operator_name,g.full_name,g.email,g.country_code,H]),e.jsxs(e.Fragment,{children:["modal_section"===w&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pay_with",children:"PAYER AVEC :"}),e.jsx(A,{choice_local_func:function(){return N(!1),b(!1),void E(!0)}}),e.jsx(I,{choice_cardBank_func:function(){return N(!0),b(!1),void E(!1)}}),e.jsx(L,{onClickCancel:function(){return i()}})]}),j&&e.jsx(Q,{}),S&&e.jsx(n,{changeVisibleChargementFunc:function(){F(!0)},changeVisibleChargementExitFunc:function(){return F(!1)}}),"choice_section"===w&&J&&e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx("div",{className:"error_text_operator",style:{display:f?"block":"none"},children:h}),e.jsx(P,{send_pay_form:d,setnum_exist_true:function(){},setnum_exist_false:function(){}}),e.jsx(V,{pay_func:function(){return!1===d&&u(!0),!0===d&&u(!1),void(""===g.operator_name?(_(!0),m("Choisissez un operateur mobile")):(_(!1),m(""),q(!0)))}})]}),G&&e.jsx("iframe",{src:U,height:"600",width:"100%",style:{border:"none"},name:"demo"})]})},J=t.createGlobalStyle(v||(v=d(["\n@import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');\n\n      .chargement_container{\n        width:100vw;\n        height:100vh;\n        position:fixed;\n        top:0px;\n        left:0px;\n        background-color:#404040a6;\n        z-index:1000000000;\n        \n        flex-direction:column;\n        align-items:center;\n        justify-coNtent:center;\n        \n      }\n      .message_container{\n       \n        padding:2rem;\n        display:flex;\n        flex-direction:column;\n        align-items:center;\n        width:25%;\n        height:25%;\n        justify-coNtent:center;\n        background-color:#D45D00;\n        box-shadow:2px 2px 10px 2px #5a5a5a1f;\n        transform:translateY(10px);\n      }\n      img{\n        width:10px;\n      }\n\n      .request_msg{\n        font-size:0.9rem;\n        color:white;\n        font-weight:500;\n        margin-top:1rem;\n        font-family: 'Poppins', sans-serif;\n        text-align:center;\n\n      }\n\n      .loader{\n        width:50px;\n        height:50px;\n        border:10px solid white;\n        border-top:10px solid #112C56;\n        margin:0 auto;\n        border-radius:50%;\n        animation: spin 2s linear infinite;\n\n      }\n      @keyframes spin {\n        0%{transform: rorate(0deg)}\n        100%{transform:rotate(360deg)}\n      }\n\n\n      \n    @media screen and (max-width:700px) {\n      .message_container{\n        width:60%;\n        height:30%;\n      }\n    }\n\n\n      \n"]))),X=function(n){var t=n.isVisible,a=k(),r=a.state,i=a.dispatch,l=o.default.useState(!1),s=l[0],c=l[1];return o.default.useEffect(function(){!0===t&&(c(!0),i({type:"CHANGE/REQUESTMESSAGE",payload:{paiement_request_verify_msg:"En attente du paiement.",stopchargement:!1}})),!1===t&&c(!1)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(J,{}),e.jsx("div",{className:"chargement_container",style:{display:s?"flex":"none"},children:e.jsxs("div",{className:"message_container",style:{backgroundColor:"Paiement effectué"===r.paiement_request_verify_msg?"green":"#D45D00"},children:[e.jsx("div",{className:"loader",style:{display:r.stopchargement?"none":"block"}}),e.jsx("div",{className:"request_msg",children:r.paiement_request_verify_msg})]})})]})},W=function(n){var t=n.isOpen,a=n.cancel_modal,r=n.cancel_modal_func,i=n.name_marchand,l=n.reference_marchand,s=n.systemCardPay,c=n.mode,d=n.redirectUrlCard,u=o.default.useState(!0),m=u[0],p=u[1],f=o.default.useState(!1),_=f[0],h=f[1],x=o.default.useState(!1),g=x[0],y=x[1],b=o.default.useState(!1),v=b[0],j=b[1];return k(),e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx(X,{isVisible:v}),e.jsx("div",{className:"modal_container",style:{position:"fixed !important",zIndex:"10000000000 !important",transition:"all 2s",transform:t&&!1===a?"scale(1)":"scale(0.6)",display:t&&!1===a?"flex":"none"},children:e.jsxs("div",{className:"modal",children:[e.jsxs("div",{className:"modal_header",children:[e.jsx("div",{className:"logo_container",children:e.jsx("img",{className:"logo",src:"https://api.feexpay.me/api/static/feexpay_logo-h.png",alt:"feexpay"})}),e.jsxs("div",{className:"header_text",children:[e.jsx("div",{className:"feexpay_close_btn",onClick:function(){return r()}}),e.jsxs("div",{className:"marchant_name",children:["MARCHAND : ",i]})," ",e.jsxs("div",{className:"id_info",children:[" ID : ",l]})]})]}),e.jsxs("div",{className:"padding_add",style:{paddingLeft:"2rem",paddingRight:"2rem",height:"94%",overflowY:"scroll"},children:["SANDBOX"===c?e.jsx("div",{className:"ModeTestMsg",children:e.jsxs("p",{children:["Vous êtes en mode ",e.jsx("strong",{children:"Test"})]})}):"",m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pay_with",children:"PAYER AVEC :"}),e.jsx(A,{choice_local_func:function(){return h(!1),p(!1),void y(!0)}}),s||""!==s?e.jsx(I,{choice_cardBank_func:function(){return h(!0),p(!1),void y(!1)}}):null,e.jsx(L,{onClickCancel:function(){return r()}})]}),_&&e.jsx(Q,{systemCardPay:s,mode:c,redirectUrlCard:d}),g&&e.jsx(Y,{changeVisibleChargementFunc:function(){j(!0)},changeVisibleChargementExitFunc:function(){return j(!1)},mode:c})]}),e.jsxs("div",{className:"secure_by_feexpay",children:[e.jsx("div",{className:"lock_line"}),e.jsx("div",{className:"img_lock_container",children:e.jsx("img",{className:"img_lock",src:"https://api.feexpay.me/api/static/svg/icons8-lock.svg",alt:"icon lock"})}),e.jsx("div",{className:"lock_text",children:"Sécurisé par FeexPay"})]}),e.jsx("div",{className:"secure_by_feexpay",style:{flexDirection:"column"},children:e.jsxs("div",{className:"lock_text",children:["En payant via ce plugin, vous acceptez les ",e.jsx("a",{href:"https://feexpay.me/termesconditions",target:"_blank",style:{color:"#D45D00",textDecoration:"none"},children:"conditions générales d'utilisation"})," de FeexPay."]})}),e.jsx("div",{className:"footer_modal_container",children:e.jsx("div",{className:"footer_modal"})})]})})]})};module.exports=function(n){var t=n.amount,a=n.token,r=n.id,i=n.callback,l=n.callback_url,c=n.description,d=n.callback_info,u=n.reference,m=n.fieldsToHide,p=n.buttonText,f=n.buttonStyles,_=n.buttonClass,h=n.defaultValueField,x=n.mode,g=void 0===x?"LIVE":x,y=n.redirectUrlCard,b=void 0===y?"https://app.feexpay.me/checkout-status":y,v=o.default.useState(!1),j=v[0],C=v[1],k=o.default.useState(!0),E=k[0],w=k[1],A=o.default.useState(!1),F=A[0],T=A[1],G=o.default.useState(""),M=G[0],I=G[1],R=o.default.useState(""),B=R[0],P=R[1],U=o.default.useState(""),V=U[0],z=U[1],L=t;return o.default.useEffect(function(){!function(){try{Promise.resolve(s.default.get(O+"/shop/"+r+"/get_shop").then(function(e){var n=null==e?void 0:e.data;n&&(I(n.name),P(n.reference),T(!0),z(n.systemCardPay||"Bizao"))}).catch(function(e){"Le format de l'id est"===e.response.data.message&&(I(""),P(""),T(!1))})).then(function(){})}catch(e){return Promise.reject(e)}}()},[]),e.jsx(e.Fragment,{children:e.jsxs(N,{amount:L,token:a,id:r,callback:i,callback_url:l,description:c,callback_info:d,reference:u,fieldsToHide:m,buttonText:p,buttonStyles:f,buttonClass:_,defaultValueField:h,children:[e.jsx(W,{token:a,systemCardPay:V,isOpen:j,cancel_modal:E,cancel_modal_func:function(){return C(!1),void w(!0)},name_marchand:M,reference_marchand:B,mode:g,redirectUrlCard:b}),e.jsx(S,{open_modal:function(){return C(!0),void w(!1)},feexVisisbleBtn:F,buttonText:p,buttonStyles:f,buttonClass:_})]})})};
